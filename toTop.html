<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>scrollTop</title>
    <style type="text/css">
    html,
    body {
        width: 100%;
        height: 500%;
        background: #11c900;
        background: linear-gradient(to top, #34352c, #c9cabb, #eff0dc, #f5f6eb)
    }

    a {
        text-decoration: none;
        color: #000;
    }

    #goLink {
        display: none;
        position: fixed;
        bottom: 50px;
        right: 30px;
        width: 50px;
        line-height: 50px;
        text-align: center;
        background: white;
        border-radius: 50%;
    }
    </style>
</head>

<body>
    <a href="javascript:;" id="goLink">Top &uarr;</a>
    <script type="text/javascript">
    var timer = setInterval(function() {
        n++;
        console.log(n);
        if (n == 5) {
            clearInterval(timer);
        }
    }, 1000) * /

    window.onscroll = scrollEvent;

    function scrollEvent() {
        var curTop = document.documentElement.scrollTop || document.body.scrollTop;
        var curHeight = document.documentElement.clientHeight || document.body.clientHeight;
        goLink.style.display = curTop > curHeight ? "block" : "none";
    }


    var goLink = document.getElementById("goLink");
    goLink.onclick = function() {
        /*document.documentElement.scrollTop = 0;
        document.body.scrollTop = 0;*/
        this.style.display = "none";
        window.onscroll = null; //让一点击回到顶部，让按钮立即消失，再向上滚动。

        var duration = 500,
            interval = 10,
            target = document.documentElement.scrollTop || document.body.scrollTop;
        var step = (target / duration) * interval;

        var timer = setInterval(function() {
            var curTop = document.documentElement.scrollTop || document.body.scrollTop;
            if (curTop == 0) {
                clearInterval(timer);
                window.onscroll = scrollEvent;
                return;
            }
            curTop -= step;
            document.documentElement.scrollTop = curTop;
            document.body.scrollTop = curTop;
        }, interval)

    }
    </script>
</body>

</html>